import{r as t,f as e,h as n}from"./p-9176a1c1.js";const s={validate:()=>!0};function r(t,e){let n;return n={validate:s=>{const r=t.validate(s),a=e.validate(s);return r?a||(n.errorMessage=e.errorMessage):n.errorMessage=t.errorMessage,r&&a}}}const a={validate:t=>!!["banana","apple","cherry"].find(e=>e===t),errorMessage:"You must enter a valid fruit name"};var i;function u(t){return(t||[]).map(t=>"string"==typeof t?h(t,null):t&&t.name?h((t=t).name,t.options):t).reduce(r,s)}function h(t,e){switch(e=e||{},t){case i.fruit:return a;case i.length:return r=e.max,{validate:t=>(t=t||"",n&&r?n<=t.length&&t.length<=r:n?n<=t.length:!r||t.length<=r),errorMessage:(n=e.min)&&r?`You must enter between ${n} and ${r} characters`:n?`You must enter at least ${n} characters`:r?`You must enter less than ${r} characters`:""};default:return s}var n,r}!function(t){t.fruit="fruit",t.length="length"}(i||(i={}));const l=class{constructor(n){t(this,n),this._validator=s,this.changed=e(this,"changed",7)}componentWillLoad(){this._validator=u(this.validator)}componentWillUpdate(){this._validator=u(this.validator)}handleChange(t){this.value=t.target?t.target.value:null,this.changed.emit(this.value)}render(){return console.log(this._validator,this._validator.validate(this.value)),n("div",null,n("div",{class:"input-container"},n("input",{value:this.value,onInput:t=>this.handleChange(t)})),this._validator.validate(this.value)?null:n("span",{class:"validation-error"},this._validator.errorMessage))}static get style(){return".input-container{padding:.5rem;border-radius:1rem;border:1px solid grey}input{outline:none!important;border:none;width:100%;font-size:.8rem}.validation-error{font-size:.8rem;color:red}"}};export{l as radh_input};